# Omokage

Omokageは、動画ファイルから特定の人物を検出し、その人物が映っているシーンを抽出して「ダイジェスト動画」や「1分間のドキュメンタリー」を自動生成するアプリケーションです。

## 特徴

- **顔認識による動画解析**: 指定したフォルダ内の全ての動画をスキャンし、特定の人物を自動で追跡します。
- **AI BGM生成**: Stable Audioを利用して、動画の雰囲気に合わせたオリジナルのBGMを自動生成します（Hugging Faceのトークンが必要です）。
- **ドキュメンタリー生成**: 抽出したクリップを繋ぎ合わせ、BGMや字幕、カラーフィルターを適用して高品質なショートムービーを作成します。
- **簡単操作**: 直感的なGUIで、専門知識がなくても動画編集が可能です。

## 必要条件

- Python 3.10以上
- ffmpeg (動画処理に必要)
- GPU (推奨: NVIDIA GPU または Mac Apple Silicon)

## セットアップ

1. リポジトリをクローンまたはダウンロードします。
2. 仮想環境を作成し、依存関係をインストールします：
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Windowsの場合は .venv\Scripts\activate
   pip install -r requirements.txt
   ```
3. アプリケーションを起動します：
   ```bash
   python app.py
   ```

## 使い方

1. **人物登録**: 「スキャン」タブで、編集したい人物の写真を登録します。
2. **動画スキャン**: 動画が保存されているフォルダを選択してスキャンを開始します。
3. **ダイジェスト作成**: 「編集 / 作成」タブで、登録した人物を選択し、動画の雰囲気や期間を指定して生成を開始します。
4. **設定**: BGMを生成するには、Hugging Faceの「Settings / About」ページでアクセストークンを入力してください。

## ライセンス

このプロジェクトは特定の利用規約に基づいています。詳細は `LICENSE_NOTICE.md` をご確認ください。
